<!doctype html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover" />
  <title>Bridge Intelligence, Inc.</title>
  <link rel="icon" type="image/svg+xml" href="icon.svg" />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link
    href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@1,400&family=Crimson+Text:wght@400;600&display=swap"
    rel="stylesheet" />
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    html {
      -webkit-overflow-scrolling: touch;
      scroll-behavior: smooth;
    }

    html,
    body {
      height: 100%;
      background: white;
      transition: background 0.1s ease-out;
      -webkit-overflow-scrolling: touch;
    }

    body {
      height: 300vh;
    }

    .split-container {
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      overflow: hidden;
    }

    .image-half {
      position: absolute;
      top: 0;
      width: 50%;
      height: 100%;
      background-image: url("green_transparent_hsv.png");
      background-size: 100vw 48.88vw;
      background-repeat: no-repeat;
      transition:
        transform 0.05s ease-out,
        opacity 0.1s ease-out;
      filter: invert(1);
      will-change: transform, opacity;
      transform: translateZ(0);
      -webkit-backface-visibility: hidden;
      backface-visibility: hidden;
    }

    .left-half {
      left: 0;
      background-position: left center;
    }

    .right-half {
      right: 0;
      background-position: right center;
    }

    .center-text {
      position: fixed;
      left: 50%;
      top: 0;
      height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      transform: translateX(-50%) translateZ(0);
      font-family: "Playfair Display", serif;
      font-weight: 400;
      font-style: italic;
      font-size: 4rem;
      color: rgba(0, 0, 0, 0.7);
      white-space: nowrap;
      z-index: 1;
      transition: opacity 0.1s ease-out;
      will-change: opacity;
      -webkit-backface-visibility: hidden;
      backface-visibility: hidden;
    }

    .image-half {
      z-index: 2;
    }

    .final-content {
      position: fixed;
      left: 50%;
      top: 0;
      height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: flex-start;
      justify-content: center;
      transform: translateX(-50%) translateZ(0);
      font-family: "Crimson Text", serif;
      font-weight: 400;
      color: rgba(255, 255, 255, 0.7);
      text-align: left;
      width: 600px;
      max-width: 90%;
      padding: 4rem 2rem;
      opacity: 0;
      transition: opacity 0.3s ease-out;
      z-index: 10;
      will-change: opacity;
      -webkit-backface-visibility: hidden;
      backface-visibility: hidden;
    }

    .final-content strong {
      font-weight: 600;
    }

    .final-content .mission {
      font-size: 1rem;
      line-height: 2;
      margin-bottom: 1.5rem;
      text-align: left;
    }

    .final-content .bio {
      font-size: 1rem;
      line-height: 2;
      margin-bottom: 1.5rem;
    }

    .final-content .signature {
      font-size: 1rem;
      margin-top: 1.5rem;
      text-align: left;
    }

    .scroll-indicator {
      position: fixed;
      left: 50%;
      bottom: 2rem;
      transform: translateX(-50%) translateZ(0);
      width: 36px;
      height: 36px;
      opacity: 0;
      transition: opacity 0.5s ease-in-out;
      z-index: 5;
      pointer-events: none;
      will-change: opacity, transform;
      -webkit-backface-visibility: hidden;
      backface-visibility: hidden;
    }

    .scroll-indicator.visible {
      opacity: 0.6;
    }

    .scroll-indicator svg {
      width: 100%;
      height: 100%;
      animation: bounce 2s infinite;
    }

    @keyframes bounce {
      0%, 20%, 50%, 80%, 100% {
        transform: translateY(0);
      }
      40% {
        transform: translateY(-8px);
      }
      60% {
        transform: translateY(-4px);
      }
    }

    @media (max-width: 768px) {
      .center-text {
        font-size: 2rem;
      }
      .scroll-indicator {
        bottom: 1.5rem;
        width: 28px;
        height: 28px;
      }
    }
  </style>
</head>

<body>
  <div class="center-text">Bridge Intelligence, Inc.</div>
  <div class="split-container">
    <div class="image-half left-half"></div>
    <div class="image-half right-half"></div>
  </div>

  <div class="scroll-indicator">
    <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M7 10L12 15L17 10" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"/>
    </svg>
  </div>

  <div class="final-content">
    <div class="mission">
      To enable knowledge exchange<br />
      Accelerate adoption<br />
      Reward human - agent collaboration<br />
      <br />
    </div>
    <div class="bio">
  We're partnering with some of the world's most impressive companies to make using intelligence seamless.
    </div>
    <div class="signature">
      <a href="join.html" style="color: rgba(255, 255, 255, 0.7); text-decoration: none;">Join our team.</a>
      <br /><br />
      Bridge Intelligence<br />
      Palo Alto, CA
    </div>
  </div>

  <script>
    const leftHalf = document.querySelector(".left-half");
    const rightHalf = document.querySelector(".right-half");
    const centerText = document.querySelector(".center-text");
    const finalContent = document.querySelector(".final-content");
    const scrollIndicator = document.querySelector(".scroll-indicator");

    // Text elements use flexbox with height: 100vh to match split-container positioning

    // Get stable viewport height using Visual Viewport API
    function getViewportHeight() {
      return window.visualViewport 
        ? window.visualViewport.height 
        : window.innerHeight;
    }

    let ticking = false;
    let userHasScrolled = false;

    // Show scroll indicator after 5 seconds (only if user hasn't scrolled yet)
    setTimeout(() => {
      if (!userHasScrolled && scrollIndicator) {
        scrollIndicator.classList.add("visible");
        scrollIndicator.style.color = "rgba(0, 0, 0, 0.7)";
      }
    }, 5000);

    // Hide indicator when user scrolls
    function handleScroll() {
      if (!userHasScrolled) {
        userHasScrolled = true;
        if (scrollIndicator) {
          scrollIndicator.classList.remove("visible");
        }
      }
    }

    function updateSplit() {
      const scrollTop = window.scrollY;
      const viewportHeight = getViewportHeight();
      const docHeight =
        document.documentElement.scrollHeight - viewportHeight;
      const scrollPercent = scrollTop / docHeight;

      // Map 0-70% scroll to 0-100% of the animation (inverted)
      const animationProgress = 1 - Math.min(scrollPercent / 0.7, 1);

      // Maximum offset is 50% of viewport width (completely off screen)
      const maxOffset = window.innerWidth * 0.5;
      const offset = animationProgress * maxOffset;

      leftHalf.style.transform = `translateX(-${offset}px) translateZ(0)`;
      rightHalf.style.transform = `translateX(${offset}px) translateZ(0)`;

      // Hide scroll indicator if user has scrolled (never show again)
      if (scrollIndicator && userHasScrolled) {
        scrollIndicator.style.opacity = "0";
        scrollIndicator.classList.remove("visible");
      } else if (scrollIndicator && scrollPercent > 0.1) {
        scrollIndicator.style.opacity = Math.max(0, 0.6 * (1 - scrollPercent / 0.3));
      }

      // Fade out center text from 45% to 75% scroll
      let centerTextOpacity = 1;
      if (scrollPercent >= 0.45 && scrollPercent <= 0.75) {
        centerTextOpacity = 1 - ((scrollPercent - 0.45) / (0.75 - 0.45));
      } else if (scrollPercent > 0.75) {
        centerTextOpacity = 0;
      }
      centerText.style.opacity = centerTextOpacity;

      if (scrollPercent >= 0.96) {
        document.body.style.background = "black";
        document.documentElement.style.background = "black";
        leftHalf.style.opacity = "0";
        rightHalf.style.opacity = "0";
        finalContent.style.opacity = "1";
        if (scrollIndicator) {
          scrollIndicator.style.opacity = "0";
        }
      } else {
        document.body.style.background = "white";
        document.documentElement.style.background = "white";
        leftHalf.style.opacity = "1";
        rightHalf.style.opacity = "1";
        finalContent.style.opacity = "0";
      }
      
      ticking = false;
    }

    function requestTick() {
      if (!ticking) {
        requestAnimationFrame(updateSplit);
        ticking = true;
      }
    }

    window.addEventListener("scroll", requestTick, { passive: true });
    window.addEventListener("scroll", handleScroll, { passive: true });
    window.addEventListener("resize", requestTick);
    
    // Listen to visual viewport changes for mobile browsers
    if (window.visualViewport) {
      window.visualViewport.addEventListener("resize", requestTick);
      window.visualViewport.addEventListener("scroll", requestTick, { passive: true });
      window.visualViewport.addEventListener("scroll", handleScroll, { passive: true });
    }
    
    updateSplit();
    
  </script>
</body>

</html>
